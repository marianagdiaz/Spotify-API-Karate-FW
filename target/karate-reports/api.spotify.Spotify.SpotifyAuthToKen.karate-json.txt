{"failedCount":0,"prefixedPath":"classpath:api\/spotify\/Spotify\/SpotifyAuthToKen.feature","packageQualifiedName":"api.spotify.Spotify.SpotifyAuthToKen","loopIndex":-1,"relativePath":"api\/spotify\/Spotify\/SpotifyAuthToKen.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":288300,"startTime":1740780025809,"endTime":1740780025809,"millis":0.2883,"status":"passed"},"step":{"comments":["# URL base para la autenticación"],"background":true,"line":6,"prefix":"*","index":0,"text":"url 'https:\/\/accounts.spotify.com'"},"stepLog":"17:00:25.809 karate.env system property was: null \n"},{"result":{"nanos":309400,"startTime":1740780025809,"endTime":1740780025809,"millis":0.3094,"status":"passed"},"step":{"comments":["# Encabezado necesario para enviar datos en formato x-www-form-urlencoded"],"background":true,"line":9,"prefix":"*","index":1,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":196900,"startTime":1740780025809,"endTime":1740780025809,"millis":0.1969,"status":"passed"},"step":{"comments":["# Se hace la solicitud para obtener el token"],"line":13,"prefix":"Given","index":0,"text":"path 'api\/token'"}},{"result":{"nanos":431000,"startTime":1740780025809,"endTime":1740780025809,"millis":0.431,"status":"passed"},"step":{"comments":["# Datos requeridos para la autenticación con client_credentials","#Usamos form field en lugar de request","#En Postman, usaste x-www-form-urlencoded, por lo que en Karate se traduce a form field"],"line":19,"prefix":"And","index":1,"text":"form field grant_type = 'client_credentials'"}},{"result":{"nanos":373500,"startTime":1740780025825,"endTime":1740780025825,"millis":0.3735,"status":"passed"},"step":{"line":20,"prefix":"And","index":2,"text":"form field client_id = '1bc9a0fdadf44d09a9176bdcc7555a59'"}},{"result":{"nanos":338000,"startTime":1740780025825,"endTime":1740780025825,"millis":0.338,"status":"passed"},"step":{"line":21,"prefix":"And","index":3,"text":"form field client_secret = '5285c3a6fd1b4d96ba0946cb7fbb4d86'"}},{"result":{"nanos":186547300,"startTime":1740780025826,"endTime":1740780026013,"millis":186.5473,"status":"passed"},"step":{"line":23,"prefix":"When","index":4,"text":"method post"},"stepLog":"17:00:25.829 request:\n1 > POST https:\/\/accounts.spotify.com\/api\/token\n1 > Content-Type: application\/x-www-form-urlencoded\n1 > Content-Length: 119\n1 > Host: accounts.spotify.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&client_id=1bc9a0fdadf44d09a9176bdcc7555a59&client_secret=5285c3a6fd1b4d96ba0946cb7fbb4d86\n\n17:00:26.001 response time in milliseconds: 169\n1 < 200\n1 < date: Fri, 28 Feb 2025 22:00:26 GMT\n1 < content-type: application\/json\n1 < x-request-id: a7450ae2-6178-4155-b7f4-422ffd393128\n1 < set-cookie: __Host-device_id=AQCBeCKhTfsDjX7QUGpX2jrMw4bt7xZZiNSHAKcGTMOX5AXRyZ1SvSBaHbeV27CFYasYV8N0CkZhj2lc341BcY0e-a2DFNAjUhI;Version=1;Path=\/;Max-Age=2147483647;Secure;HttpOnly;SameSite=Lax\n1 < set-cookie: sp_tr=false;Version=1;Domain=accounts.spotify.com;Path=\/;Secure;SameSite=Lax\n1 < sp-trace-id: 6c15dfcfc124f3c0\n1 < x-envoy-upstream-service-time: 5\n1 < server: envoy\n1 < strict-transport-security: max-age=31536000\n1 < x-content-type-options: nosniff\n1 < vary: Accept-Encoding\n1 < Via: HTTP\/2 edgeproxy, 1.1 google\n1 < Alt-Svc: h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000\n1 < Transfer-Encoding: chunked\n1 < Set-Cookie: __Host-device_id=AQCBeCKhTfsDjX7QUGpX2jrMw4bt7xZZiNSHAKcGTMOX5AXRyZ1SvSBaHbeV27CFYasYV8N0CkZhj2lc341BcY0e-a2DFNAjUhI;Version=1;Path=\/;Max-Age=2147483647;Secure;HttpOnly;SameSite=Lax\n1 < Set-Cookie: sp_tr=false;Version=1;Domain=accounts.spotify.com;Path=\/;Secure;SameSite=Lax\n{\"access_token\":\"BQDi08BfwI6z9sew0ToxjuU-qKj9eEt3Wp_CJGbYp0lbKkIyrc36jYQJHsFefvIyNv2XMQQnrvgaK_zmDt2LmFS-0OxO_D99tn5gyFX6gG6jhcw_0bxtZ0CIdUEno3e_qkaJoTPWJHE\",\"token_type\":\"Bearer\",\"expires_in\":3600}\n\n"},{"result":{"nanos":9400,"startTime":1740780026001,"endTime":1740780026001,"millis":0.0094,"status":"passed"},"step":{"line":24,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":693700,"startTime":1740780026001,"endTime":1740780026002,"millis":0.6937,"status":"passed"},"step":{"comments":["# Se guarda el token en una variable para reutilizarlo en otras pruebas"],"line":27,"prefix":"*","index":6,"text":"def accessToken = response.access_token"}},{"result":{"nanos":1000000,"startTime":1740780026001,"endTime":1740780026002,"millis":1.0,"status":"passed"},"step":{"line":28,"prefix":"*","index":7,"text":"print 'access_token', accessToken"},"stepLog":"17:00:26.001 [print] access_token BQDi08BfwI6z9sew0ToxjuU-qKj9eEt3Wp_CJGbYp0lbKkIyrc36jYQJHsFefvIyNv2XMQQnrvgaK_zmDt2LmFS-0OxO_D99tn5gyFX6gG6jhcw_0bxtZ0CIdUEno3e_qkaJoTPWJHE \n"}],"executorName":"pool-2-thread-3","line":11,"name":"Post auth token","description":"","durationMillis":190.1875,"startTime":1740780025809,"failed":false,"refId":"[1:11]","endTime":1740780026001,"exampleIndex":-1}],"callDepth":0,"name":"Token","description":"","resultDate":"2025-02-28 05:00:27 p. m.","durationMillis":190.1875,"passedCount":1}