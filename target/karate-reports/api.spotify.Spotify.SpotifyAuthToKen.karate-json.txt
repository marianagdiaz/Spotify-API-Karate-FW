{"failedCount":0,"prefixedPath":"classpath:api\/spotify\/Spotify\/SpotifyAuthToKen.feature","packageQualifiedName":"api.spotify.Spotify.SpotifyAuthToKen","loopIndex":-1,"relativePath":"api\/spotify\/Spotify\/SpotifyAuthToKen.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":534900,"startTime":1742231159905,"endTime":1742231159906,"millis":0.5349,"status":"passed"},"step":{"comments":["# URL base para la autenticación"],"background":true,"line":6,"prefix":"*","index":0,"text":"url 'https:\/\/accounts.spotify.com'"},"stepLog":"12:05:59.904 karate.env system property was: null \n"},{"result":{"nanos":328100,"startTime":1742231159905,"endTime":1742231159905,"millis":0.3281,"status":"passed"},"step":{"comments":["# Encabezado necesario para enviar datos en formato x-www-form-urlencoded"],"background":true,"line":9,"prefix":"*","index":1,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":245300,"startTime":1742231159905,"endTime":1742231159905,"millis":0.2453,"status":"passed"},"step":{"comments":["# Se hace la solicitud para obtener el token"],"line":13,"prefix":"Given","index":0,"text":"path 'api\/token'"}},{"result":{"nanos":495000,"startTime":1742231159906,"endTime":1742231159906,"millis":0.495,"status":"passed"},"step":{"comments":["# Datos requeridos para la autenticación con client_credentials","#Usamos form field en lugar de request","#En Postman, usaste x-www-form-urlencoded, por lo que en Karate se traduce a form field"],"line":19,"prefix":"And","index":1,"text":"form field grant_type = 'client_credentials'"}},{"result":{"nanos":635900,"startTime":1742231159906,"endTime":1742231159907,"millis":0.6359,"status":"passed"},"step":{"line":20,"prefix":"And","index":2,"text":"form field client_id = '1bc9a0fdadf44d09a9176bdcc7555a59'"}},{"result":{"nanos":807200,"startTime":1742231159907,"endTime":1742231159908,"millis":0.8072,"status":"passed"},"step":{"line":21,"prefix":"And","index":3,"text":"form field client_secret = '5285c3a6fd1b4d96ba0946cb7fbb4d86'"}},{"result":{"nanos":163211600,"startTime":1742231159908,"endTime":1742231160071,"millis":163.2116,"status":"passed"},"step":{"line":23,"prefix":"When","index":4,"text":"method post"},"stepLog":"12:05:59.910 request:\n1 > POST https:\/\/accounts.spotify.com\/api\/token\n1 > Content-Type: application\/x-www-form-urlencoded\n1 > Content-Length: 119\n1 > Host: accounts.spotify.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&client_id=1bc9a0fdadf44d09a9176bdcc7555a59&client_secret=5285c3a6fd1b4d96ba0946cb7fbb4d86\n\n12:06:00.069 response time in milliseconds: 141\n1 < 200\n1 < date: Mon, 17 Mar 2025 17:06:01 GMT\n1 < content-type: application\/json\n1 < x-request-id: 26840950-1a5a-402a-9177-9e4aaf7b98ea\n1 < set-cookie: __Host-device_id=AQB8YIx4qMeurbcUtQ-O51rpTVF0PkHY3jYHwJuYYWVFqWGdeeYGXGTcAFar72g-GrL3CPXuzJCmNJScSkpooiBR1aTfTtFJFjE;Version=1;Path=\/;Max-Age=2147483647;Secure;HttpOnly;SameSite=Lax\n1 < set-cookie: sp_tr=false;Version=1;Domain=accounts.spotify.com;Path=\/;Secure;SameSite=Lax\n1 < sp-trace-id: 072431a0497c6258\n1 < x-envoy-upstream-service-time: 10\n1 < server: envoy\n1 < strict-transport-security: max-age=31536000\n1 < x-content-type-options: nosniff\n1 < vary: Accept-Encoding\n1 < Via: HTTP\/2 edgeproxy, 1.1 google\n1 < Alt-Svc: h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000\n1 < Transfer-Encoding: chunked\n1 < Set-Cookie: __Host-device_id=AQB8YIx4qMeurbcUtQ-O51rpTVF0PkHY3jYHwJuYYWVFqWGdeeYGXGTcAFar72g-GrL3CPXuzJCmNJScSkpooiBR1aTfTtFJFjE;Version=1;Path=\/;Max-Age=2147483647;Secure;HttpOnly;SameSite=Lax\n1 < Set-Cookie: sp_tr=false;Version=1;Domain=accounts.spotify.com;Path=\/;Secure;SameSite=Lax\n{\"access_token\":\"BQBmW4SlmmU8LTgxgLJdEEhIKDX7SkQLHwPbBnGxOlNN7-C1fryW2C_ABQh8gdKrbZqTrqGJObW4WnU1GY57gbTh7T9IxtJabSkRmgTln69zG6LmC92UPo6bclTVaCApJ3Uk_y_ZcKU\",\"token_type\":\"Bearer\",\"expires_in\":3600}\n\n"},{"result":{"nanos":20700,"startTime":1742231160071,"endTime":1742231160071,"millis":0.0207,"status":"passed"},"step":{"line":24,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":739300,"startTime":1742231160072,"endTime":1742231160073,"millis":0.7393,"status":"passed"},"step":{"comments":["# Se guarda el token en una variable para reutilizarlo en otras pruebas"],"line":27,"prefix":"*","index":6,"text":"def accessToken = response.access_token"}},{"result":{"nanos":37722100,"startTime":1742231160072,"endTime":1742231160110,"millis":37.7221,"status":"passed"},"step":{"line":28,"prefix":"*","index":7,"text":"print 'access_token', accessToken"},"stepLog":"12:06:00.110 [print] access_token BQBmW4SlmmU8LTgxgLJdEEhIKDX7SkQLHwPbBnGxOlNN7-C1fryW2C_ABQh8gdKrbZqTrqGJObW4WnU1GY57gbTh7T9IxtJabSkRmgTln69zG6LmC92UPo6bclTVaCApJ3Uk_y_ZcKU \n"}],"executorName":"pool-2-thread-2","line":11,"name":"Post auth token","description":"","durationMillis":204.7401,"startTime":1742231159900,"failed":false,"refId":"[1:11]","endTime":1742231160110,"exampleIndex":-1}],"callDepth":0,"name":"Token","description":"","resultDate":"2025-03-17 12:06:02 p. m.","durationMillis":204.7401,"passedCount":1}